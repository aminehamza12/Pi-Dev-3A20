if (self.CavalryLogger) { CavalryLogger.start_js(["YH2ER"]); }

__d("AdsTransparencyReportAdEntity",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HIDE_AD:"hide_ad",HIDE_ADVERTISER:"hide_advertiser",HIDE_PRODUCT:"hide_product",WAIST_DIALOG:"waist_dialog",AD_USEFUL:"ad_useful",REPORT_AD:"report_ad",REPORT_AD_REASON:"report_ad_reason",XOUT_MENU:"xout_menu"})}),null);
__d("AdsTransparencyReportAdEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK_ACTION:"click_action",CLICK_VIEW:"click_view",BACKEND_UPDATE:"backend_update",IMPRESSION:"impression",INVALIDATION:"invalidation"})}),null);
__d("AdsTransparencyReportAdTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdID=function(a){this.$1.ad_id=a;return this};a.prototype.setAdsPageType=function(a){this.$1.ads_page_type=a;return this};a.prototype.setEntity=function(a){this.$1.entity=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setProductLocation=function(a){this.$1.product_location=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={ad_id:!0,ads_page_type:!0,entity:!0,event:!0,product_location:!0,session_id:!0,vc:!0};e.exports=a}),null);
__d("ReportAdLoggingEvents",["AdsTransparencyReportAdEntity","AdsTransparencyReportAdEvent","AdsTransparencyReportAdTypedLogger","EventListener"],(function(a,b,c,d,e,f){"use strict";a={registerMenuItemClick:function(a,c,d,e,f,g){b("EventListener").listen(a,"click",function(){new(b("AdsTransparencyReportAdTypedLogger"))().setEvent(b("AdsTransparencyReportAdEvent").CLICK_VIEW).setAdID(c).setEntity(d).setSessionID(e).setProductLocation(g).setAdsPageType(f).log()})}};e.exports=a}),null);
__d("XEventReminderImpressionLoggerAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/ajax/reminder/impression/",{acontext:{type:"StringToStringMap",required:!0},data:{type:"StringToStringMap"}})}),null);
__d("EventReminderController",["Arbiter","AsyncRequest","DOM","DOMQuery","Event","Scroll","ScrollableArea","XEventReminderImpressionLoggerAsyncController"],(function(a,b,c,d,e,f){__p&&__p();a={registerReminder:function(a,c){__p&&__p();this._firstOpen=!0;var d=a.getDialog(),e=b("ScrollableArea").getInstance(b("DOMQuery").scry(d.getRoot(),".uiScrollableArea")[0]),f=null;e&&(f=b("DOM").find(e.getElement(),"div.uiScrollableAreaWrap"),e.subscribe("scroll",function(){return b("Arbiter").inform("EventReminderDialog/scroll",{rect:f.getBoundingClientRect(),scrollTop:b("Scroll").getTop(f)})}));b("Event").listen(a.getRoot(),"click",function(event){event.preventDefault()});d.subscribe("show",function(){var a=b("XEventReminderImpressionLoggerAsyncController").getURIBuilder().setStringToStringMap("acontext",c).setStringToStringMap("data",{first_open:this._firstOpen}).getURI();new(b("AsyncRequest"))(a).send();this._firstOpen=!1;a={};f&&(a={rect:f.getBoundingClientRect()});b("Arbiter").inform("EventReminderDialog/show",a)}.bind(this));d.subscribe("hide",function(){return b("Arbiter").inform("EventReminderDialog/hide")})}};e.exports=a}),null);
__d("ConditionClassOnVisible",["IntersectionObserver","Run"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b,c){var d=arguments.length<=3||arguments[3]===undefined?!0:arguments[3],e=a[0],f=d?e.intersectionRatio>0:!(e.intersectionRatio>0);e.target.classList.toggle(c,f)};a={track:function(a,c,d){var e=new(b("IntersectionObserver"))(function(b,a){g(b,a,c,d)},{});e.observe(a);b("Run").onLeave(function(){e.disconnect()})}};e.exports=a}),null);
__d("XGroupsRHCSuggestionXoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/xout_suggested_group/",{id:{type:"Int",required:!0}})}),null);
__d("XRapidReportingDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/rapid_report/",{context:{type:"String",required:!0},preselectedtagid:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("GroupSuggestionXoutHandler",["csx","AsyncRequest","CSS","DOM","Event","ge","XGroupsRHCSuggestionXoutController","XRapidReportingDialogController"],(function(a,b,c,d,e,f,g){__p&&__p();var h={onclick:function(a,c,d,e,f){b("Event").listen(a,"click",function(){h.hideItem(c,d,e,f)})},hideItem:function(a,c,d,e){__p&&__p();var f=b("XGroupsRHCSuggestionXoutController").getURIBuilder().setInt("id",a).getURI();new(b("AsyncRequest"))().setURI(f).send();f=b("ge")(""+c);f!==null&&b("DOM").remove(f);if(d==="group_mall_rhc"){f=b("ge")("div._1spx");if(f.length===0){f=b("ge")("GroupsRHCSuggestionSection");f!==null&&b("DOM").remove(f)}}e&&h.openReportingFlow(a,c,d)},openReportingFlow:function(a,c,d){var e=JSON.stringify({reportable_ent_token:a.toString(),entry_point:d});e=b("XRapidReportingDialogController").getURIBuilder().setString("context",e).getURI();new(b("AsyncRequest"))().setURI(e).send();h.hideItem(a,c,d,!1)},hide:function(a,c){b("Event").listen(c,"mouseover",function(){b("CSS").show(a)}),b("Event").listen(c,"mouseleave",function(){b("CSS").hide(a)})}};e.exports=h}),null);
__d("LitestandComposer",["csx","Arbiter","Bootloader","Parent","ReactComposerEvents","ReactComposerIDGenerator","Run","SubscriptionsHandler","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h=600,i={};function j(a,c,d,e){__p&&__p();b("Bootloader").loadModules(["Animation","ComposerXController","ComposerXMarauderLogger","DOM","LitestandStream"],function(f,g,k,l,m){__p&&__p();if(!m.isReady()){m.addReadyListener(function(){j(a,c,d,e)});return}b("ReactComposerIDGenerator").isComposerID(a)||g.reset(a);if(!m||!c)return;if(i[a]){l.insertAfter(i[a],c);g=i[a].parentNode;g&&g.removeChild(i[a]);delete i[a]}else d===null?l.prependContent(m.getStreamRoot(),c):l.insertAfter(d,c);new f(c).from("opacity",0).to("opacity",1).duration(h).go();k.logCompleted(a);e&&e();b("Arbiter").inform("LitestandComposer/publishCompleted",{story:c})},"LitestandComposer")}var k={},l={initComposer:function(a){__p&&__p();k[a]&&l.destructComposer(a),k[a]=new(b("SubscriptionsHandler"))(),k[a].addSubscriptions(b("Arbiter").subscribe("LitestandComposer/publish",function(c,d){__p&&__p();if(d.composer_id===a){c=b("ge")(a);c=c!==null?b("Parent").bySelector(c,"._l2u"):null;j(a,d.markup,c,function(){var a=d.markup;if(a){var c=a.id;c||(c="random_id_for_litestand_context_"+Math.random(),a.id=c);b("Arbiter").inform("LitestandComposer/attachedToDOM",c)}})}}),b("Arbiter").subscribe("LitestandComposer/publishTemp",function(b,c){c.composer_id===a&&j(a,c.markup,null,function(){c.markup&&(i[a]=c.markup)})}),b("Arbiter").subscribe(b("ReactComposerEvents").COMPOSER_UNMOUNT+a,l.destructComposer.bind(null,a))),b("Run").onLeave(l.destructComposer.bind(null,a))},destructComposer:function(a){var b=k[a];b!=null&&(b.release(),delete k[a])}};e.exports=l}),null);
__d("ListestandStreamTailStoryPlaceholderVisbilityTracker",["PageletEventConstsJS","PageletEventsHelper","onRectIsWithinViewport","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h=null,i=null,j=!1,k={};a={setPlaceholderElement:function(a){j||(b("PageletEventsHelper").subscribeToPageletEvents(l),j=!0),g=a,h&&h.remove(),h=b("onRectIsWithinViewport")(function(){return a.getBoundingClientRect()},function(a){!i&&a&&(i=b("performanceAbsoluteNow")())})},getStoryPlaceholderVisibleDuration:function(a){return k[a]||0}};function l(a,c){__p&&__p();if(a.startsWith("hyperfeed_story")&&c===b("PageletEventConstsJS").DISPLAY_END){c=b("performanceAbsoluteNow")();k[a]=i?c-i:0;if(g){a=g.getBoundingClientRect().top;a=a-window.scrollTop;i=a<window.innerHeight&&a>0?c:null}else i=null}}e.exports=a}),null);
__d("NewsFeedTailloadPlaceholderTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:NewsFeedTailloadPlaceholderLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:NewsFeedTailloadPlaceholderLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:NewsFeedTailloadPlaceholderLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDisplayDone=function(a){this.$1.display_done=a;return this};a.prototype.setTailLoadPosition=function(a){this.$1.tail_load_position=a;return this};a.prototype.setTailLoadStatus=function(a){this.$1.tail_load_status=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVisibleDuration=function(a){this.$1.visible_duration=a;return this};c={display_done:!0,tail_load_position:!0,tail_load_status:!0,vc:!0,visible_duration:!0};e.exports=a}),null);
__d("FlexibleScrollableArea",["DataStore","DOM","DOMDimensions","Event","Parent","Run","Style","Vector","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g=30,h=100;function a(a,c,d,e,f){"use strict";this._element=a,this._tight=c,this._measureFrom=d,this._minHeight=e,this._margin=f,b("DataStore").set(this._element,"FlexibleScrollableArea",this),b("Run").onLeave(this.cleanup.bind(this)),this._listener=b("Event").listen(window,"resize",b("throttle")(this.poke,h,this)),this.poke()}a.prototype.poke=function(){"use strict";__p&&__p();var a=b("DOM").find(this._element,".uiScrollableAreaBody");a=b("Vector").getElementDimensions(a).y+b("DOMDimensions").measureElementBox(a,"height",!0,!0,!0);if(this._tight){var c=this.getMaxHeight();a<c+g&&(c+=g);a=Math.max(Math.min(a,c),this._minHeight)}else a=Math.max(this.getMaxHeight(),this._minHeight);b("Style").set(this._element,"height",a+"px")};a.prototype.getMaxHeight=function(){"use strict";if(this._measureFrom==="bottom"){var a=b("Vector").getViewportDimensions().y,c=b("Vector").getElementPosition(this._element,"viewport").y;a=a-c;return a-this._margin}c=b("Vector").getElementPosition(this._element,"viewport").y+b("Vector").getElementDimensions(this._element).y;return c-this._margin};a.prototype.cleanup=function(){"use strict";this._listener&&this._listener.remove()};a.getInstance=function(a){"use strict";a=b("Parent").byClass(a,"flexibleScrollableArea");return a?b("DataStore").get(a,"FlexibleScrollableArea"):null};e.exports=a}),null);
__d("EgoUnitSlideInsert",["csx","cx","Animation","CSS","DataStore","DOM","Ease","Event","Parent","TidyArbiterMixin","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="sliding",j="EgoSlider/End",k=babelHelpers["extends"]({isSliding:function(a){return b("DataStore").get(a,i)},runAfterSlide:function(a,c){var d=b("tidyEvent")(k.subscribe(j,function(b,e){e===a&&(d&&d.unsubscribe(),c())}))},registerSlide:function(a,c){__p&&__p();b("Event").listen(a,"click",function(d){__p&&__p();d=b("Parent").bySelector(d.getTarget(),"._5cl_");if(!d)return;var e=b("Parent").byClass(a,"ego_unit");d=0;var f=b("Parent").byClass(e,"ego_unit_container"),g=b("DOM").scry(f,".ego_unit")[0];g===e&&(e.nextSibling&&(e.nextSibling.style.paddingTop="0px",e.nextSibling.style.borderTop="0px"));b("CSS").addClass(e,"_5cl-");b("DataStore").set(e,i,!0);new(b("Animation"))(e).to("height",0).to("padding-top",d).to("padding-bottom",0).to("margin",0).from("opacity",1).to("opacity",0).ease(b("Ease").circOut).duration(300).checkpoint(1,function(){b("DOM").appendContent(f,e),b("DOM").prependContent(e,c),b("DataStore").remove(e,i)}).to("height",12).to("opacity",1).to("margin-bottom",10).duration(0).checkpoint(2,function(){k.inform(j,e)}).go()})}},b("TidyArbiterMixin"));e.exports=k}),null);
__d("NetEgo",["csx","Animation","Arbiter","CSS","DOM","EgoUnitSlideInsert","PageLikeConstants","Parent","URI","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h={setup:function(a){__p&&__p();b("Arbiter").subscribe([b("PageLikeConstants").LIKED,"FriendRequest/sending"],function(c,d){__p&&__p();if(a==d.profile_id&&d.origin=="hovercard"||a==d.uid){c=b("ge")(document.body,".ego_unit_container");if(c){d=b("DOM").scry(c,".ego_unit");c=d.length;for(var e=0;e<c;e++){var f=d[e].getAttribute("data-ego-fbid");if(f==a){f=b("DOM").scry(d[e],".ego_action a")[0];f&&f.click();break}}}}})},updateXids:function(a,c){__p&&__p();if(a.length==0&&c.length==0)return;a=function(a){return function(c){c=c.getAttribute(a);if(!c)return!1;c=new(b("URI"))(c).getQueryData();return!!c.xids}};var d=b("DOM").scry(document.body,".ego_section a");d=d.filter(a("ajaxify"));if(d.length==0)return;var e=new(b("URI"))(d[0].getAttribute("ajaxify")),f=e.getQueryData();if(!f.xids)return;var g=null;try{g=JSON.parse(f.xids)}catch(a){return}for(var h=0;h<c.length;++h)g[c[h]]=1;var i=JSON.stringify(g);c=function(a,c){e=new(b("URI"))(a.getAttribute(c)),f=e.getQueryData(),f.xids=i,e.setQueryData(f),a.setAttribute(c,e.toString())};for(h=0;h<d.length;++h)c(d[h],"ajaxify");g=b("DOM").scry(document.body,".ego_unit form");g=g.filter(a("action"));for(h=0;h<g.length;++h)c(g[h],"action")},replaceUnit:function(a,b,c,d){h.replaceUnitCheckParent(a,b,c,d,"")},replaceUnitCheckParent:function(a,c,d,e,f){var g=b("Parent").byClass(a,"ego_unit_container");if(g&&b("EgoUnitSlideInsert").isSliding(a)){g=b("DOM").appendContent(g,c);g.forEach(b("CSS").hide);b("EgoUnitSlideInsert").runAfterSlide(a,h._replaceUnitElement.bind(null,a,g,f))}else h._replaceUnit(a,c,d,e,f)},_replaceUnit:function(a,c,d,e,f){var g=b("DOM").insertAfter(a,c);g.forEach(b("CSS").hide);e!==undefined&&e!==null?setTimeout(function(){h._replaceUnitFadeout(a,g,d,f)},e):h._replaceUnitFadeout(a,g,d,f)},_replaceUnitFadeout:function(a,c,d,e){d?new(b("Animation"))(a).from("opacity",1).to("opacity",0).duration(d).checkpoint(1,function(){h._replaceUnitElement(a,c,e)}).go():h._replaceUnitElement(a,c,e)},_replaceUnitElement:function(a,c,d){var e=b("CSS").hasClass(a,"ego_unit")?a.parentNode:null;e&&e.tagName==="LI"&&(e=b("DOM").scry(a.parentNode,"^ul")[0]);b("DOM").remove(a);c.length&&c.forEach(b("CSS").show);b("Arbiter").inform("netego_replacedUnit",{serializedData:d,numUnitsRemained:e.childNodes.length});h.clearHeader()},clearHeader:function(){__p&&__p();var a=b("DOM").scry(document.body,".ego_column"),c=[];for(var d=0;d<a.length;++d)c=c.concat(b("DOM").scry(a[d],".uiHeader"));for(d=0;d<c.length;++d){a=c[d].nextSibling;var e=b("DOM").find(a,"._2xq");e||(e=a);if(!e||e.childNodes.length===0)b("DOM").remove(c[d]);else if(e.childNodes.length===1){a=e.childNodes[0];b("CSS").hasClass(a,"ego_appended_units")&&a.childNodes.length===0&&b("DOM").remove(c[d])}}}};e.exports=h}),null);
__d("NetEgoLogger",["AsyncSignal"],(function(a,b,c,d,e,f){e.exports={log:function(a){var c=a.uri,d=a.sid,e=a.fbid;a=a.element;new(b("AsyncSignal"))(c,{sid:d,fbid:e,height:a.offsetHeight}).send()}}}),null);
__d("NewsFeedDedupeStoryController",["CSS","DOMQuery","queryThenMutateDOM"],(function(a,b,c,d,e,f){__p&&__p();a={dedupe:function(a,c){__p&&__p();b("queryThenMutateDOM")(function(){var d={};return b("DOMQuery").scry(a,c).filter(function(a){var c=a.getAttribute("data-dedupekey");if(c&&b("CSS").shown(a)){if(d[c])return!0;d[c]=!0}return!1})},function(a){a.forEach(function(a){b("CSS").hide(a),a.removeAttribute("style")})},"NewsFeedDedupeStoryControllerDedupe")}};e.exports=a}),null);
__d("NewsFeedOffscreenController",["cx","Arbiter","CSS","DOMQuery","IntersectionObserver","LitestandShareAttachment","NavigationMessage","Run","Style","SubscriptionsHandler","debounce","getOrCreateDOMID","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){__p&&__p();a=400;var h=10,i="_5qqr",j={},k=null,l={rootMargin:a+"px 0px "+a+"px 0px"},m=null,n={};function o(){for(var a in n)b("DOMQuery").scry(n[a],"div[data-fullscreen]").length?delete n[a]:j[a]=n[a].offsetHeight}function p(){var a=void 0,c=void 0;for(var d in n)c=j[d],c!==undefined&&c>0&&(b("Style").apply(n[d],{height:c+"px",marginBottom:h+"px"}),a=n[d].firstElementChild,a&&b("CSS").hide(a),delete j[d]),delete n[d]}var q=b("debounce")(function(){b("queryThenMutateDOM")(o,p,"NewsFeedOffscreenController")});function r(a){delete n[b("getOrCreateDOMID")(a)];b("Style").apply(a,{height:"",marginBottom:""});a=a.firstElementChild;if(a){b("CSS").show(a);a=b("DOMQuery").scry(a,"."+i);a.forEach(function(a){b("LitestandShareAttachment").init(a)})}}function s(a){var c=[];a.forEach(function(a){a.isIntersecting||a.intersectionRatio>0?c.push(a.target):n[b("getOrCreateDOMID")(a.target)]=a.target});q();c.forEach(r)}function t(){k&&k.disconnect(),k=null,m&&m.release(),m=null}function u(){if(k)return k;k=new(b("IntersectionObserver"))(s,l);var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,t),b("Run").onLeave(t));return k}c={attachSubstream:function(a){u().observe(a)}};e.exports=c}),null);
__d("NewsFeedTailLoadPlaceholderLoggerStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUCCESS:"success",FAILED:"failed",CANCELLED:"cancelled"})}),null);
__d("NewsFeedTailLoadPlaceholderLogger",["Arbiter","BigPipe","DOM","FBLogger","FeedQuickLogModule","IntersectionObserver","LitestandStream","NewsFeedTailloadPlaceholderTypedLogger","NewsFeedTailLoadPlaceholderLoggerStatus","PageEvents","QuickLogActionType","QuickPerformanceLogger","SubscriptionsHandler","gkx","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("AT7KK82E6JxaPx6oN4q-Vm9lp3uNcTVJR1JkFm9kz7Exm8LU2NQ95JrEznfGXvNo3sy8c5nRChJELHsdh7syPA88o6lc41pGHRPG_OgO5q8hBw");function h(a){this.$1=0,this.$4=0,this.$5=0,this.$2=a}h.prototype.visibleStart=function(a){this.$5=a;return this};h.prototype.visibleEnd=function(a){if(this.$5>0){var c=a-this.$5;c>0&&(this.$4+=c,c>1e6&&b("FBLogger")("feed").warn("Logging a placeholder visible duration of over 1M! Duration: %s Start time: %s, End time: %s",this.$4,this.$5,a),this.$5=0)}return this};h.prototype.setDisplayDone=function(a){this.$1=a;return this};h.prototype.setTailLoadStatus=function(a){this.$3=a;return this};h.prototype.log=function(){new(b("NewsFeedTailloadPlaceholderTypedLogger"))().setVisibleDuration(Math.round(this.$4)).setDisplayDone(Math.round(this.$1)).setTailLoadStatus(this.$3).setTailLoadPosition(this.$2).log()};function a(a,c){this.$1={},this.$5=!1,this.$6={},this.$4=c,this.$3=new(b("IntersectionObserver"))(function(a){return this.$8(a)}.bind(this),{threshold:a}),this.$7=new(b("SubscriptionsHandler"))(),this.$7.addSubscriptions(b("Arbiter").subscribe(b("BigPipe").Events.init,function(a,b){return this.$9(b)}.bind(this)))}a.prototype.$10=function(){g&&!this.$5&&(b("QuickPerformanceLogger").markerStart(b("FeedQuickLogModule").CONSUMPTION_RESTORATION_WWW),this.$5=!0)};a.prototype.$11=function(a){g&&this.$5&&(b("QuickPerformanceLogger").markerEnd(b("FeedQuickLogModule").CONSUMPTION_RESTORATION_WWW,a),this.$5=!1)};a.prototype.$12=function(){g&&this.$5&&b("QuickPerformanceLogger").markerPoint(b("FeedQuickLogModule").CONSUMPTION_RESTORATION_WWW,"SHIMMER_HIDDEN")};a.prototype.destroy=function(){this.$3.disconnect(),this.$7.release()};a.prototype.tailLoadStarted=function(){if(!this.$2){this.$3.observe(this.$4);var a=b("DOM").scry(b("LitestandStream").getStreamRoot(),b("LitestandStream").getStoriesSelector()).length;this.$2=new h(a)}};a.prototype.tailLoadSuccessful=function(a){this.$11(b("QuickLogActionType").SUCCESS);var c=this.$2;c&&(c.visibleEnd(b("performanceNow")()).setTailLoadStatus(b("NewsFeedTailLoadPlaceholderLoggerStatus").SUCCESS),this.$1[a]=c,this.$13())};a.prototype.tailLoadFailed=function(){this.$11(b("QuickLogActionType").FAIL);var a=this.$2;a&&(a.visibleEnd(b("performanceNow")()).setDisplayDone(-1).setTailLoadStatus(b("NewsFeedTailLoadPlaceholderLoggerStatus").FAILED).log(),this.$13())};a.prototype.tailLoadCancelled=function(){this.$11(b("QuickLogActionType").CANCEL);var a=this.$2;a&&(a.visibleEnd(b("performanceNow")()).setDisplayDone(-1).setTailLoadStatus(b("NewsFeedTailLoadPlaceholderLoggerStatus").CANCELLED).log(),this.$13())};a.prototype.$13=function(){this.$3.unobserve(this.$4),this.$2=null};a.prototype.$8=function(a){var b=this.$2;if(!b)return;a.forEach(function(a){if(a.target===this.$4){var c=a.isIntersecting||a.intersectionRatio>0;c?(this.$10(),b.visibleStart(a.time)):(this.$12(),b.visibleEnd(a.time))}}.bind(this))};a.prototype.$9=function(a){var c=a.arbiter;a=a.lid;var d={requestStart:0};this.$6[a]=d;c.subscribe(b("PageEvents").AJAXPIPE_SEND,function(a,b){a=b.ts;return d.requestStart=a});c.subscribe(b("BigPipe").Events.displayed,function(a,b){return this.$14(b)}.bind(this))};a.prototype.$14=function(a){var c=a.lid;a=a.ts;var d=this.$6[c],e=this.$1[c];if(d&&e){var f=a-d.requestStart;f>0?e.setDisplayDone(f).log():b("FBLogger")("feed").warn("Tail load display done is invalid! Start: %s, Display Done: %s",d.requestStart,a);delete this.$1[c];delete this.$6[c]}};e.exports=a}),null);
__d("NewsFeedTailLoadController",["Arbiter","AsyncResponse","Bootloader","CSS","DOM","Event","FunnelLogger","IntersectionObserver","ListestandStreamTailStoryPlaceholderVisbilityTracker","LitestandMessages","LitestandStream","MainThreadPerformanceLoggerActions","MainThreadPerformanceMonitor","NavigationMessage","NewsFeedDedupeStoryController","NewsFeedOffscreenController","Run","SubscriptionsHandler","NewsFeedTailLoadPlaceholderLogger","ge","getElementPosition","getOrCreateDOMID","getViewportDimensions"],(function(a,b,c,d,e,f){__p&&__p();var g=100,h=3e4,i={"streamload.tail.commence":!0,"streamload.tail.success":!0,"streamload_error.tail":!0,"streamload_error.tail.transport":!0,"streamload_error.tail.final":!0,"streamload.tail.retry":!0,"streamload_error.tail.retry":!0,"streamload.tail.retry.success":!0,"streamload_timeout.tail":!0},j=void 0,k=void 0,l={},m="WWW_NEWSFEED_TAILLOAD_FUNNEL",n=2,o=null,p=null,q=void 0,r=null,s=void 0,t=null,u=0,v=0,w=null,x=function(a){a.forEach(function(a){i[a]&&b("FunnelLogger").appendActionWithTag(m,v,a,"try_"+u)}),b("Bootloader").loadModules(["BanzaiODS"],function(b){a.forEach(function(a){b.bumpEntityKey("feed_load",a)})},"NewsFeedTailLoadController")},y=function(a,c){b("Arbiter").inform(b("LitestandMessages").STREAM_LOAD_ERROR,c);c=["streamload_error.tail"];u>0&&c.push("streamload_error.tail.retry");a&&u<n?(u++,B(a),c.push("streamload.tail.retry"),b("Arbiter").inform(b("LitestandMessages").STREAM_LOAD_RETRY)):(t&&b("CSS").removeClass(t,"async_saving"),p&&p.tailLoadFailed(),b("MainThreadPerformanceMonitor").stop(b("MainThreadPerformanceLoggerActions").TAIL_LOAD));x(c)},z=function(){A(),q=setTimeout(function(){x(["streamload_timeout.tail"])},h)},A=function(){q&&clearTimeout(q)},B=function(a){__p&&__p();u<1&&(b("FunnelLogger").startFunnel(m,v),b("FunnelLogger").addFunnelTag(m,v,"NewsFeedTailLoadController"));x(["streamload.tail.commence"]);l[a]&&(x(["duplicate_cursor"]),b("Arbiter").inform(b("LitestandMessages").DUPLICATE_CURSOR_ERROR,a));l[a]=!0;var c={client_stories_count:b("DOM").scry(b("LitestandStream").getStreamRoot(),b("LitestandStream").getStoriesSelector()).length,cursor:a,feed_stream_id:b("LitestandStream").getFeedStreamID(),pager_config:s,scroll_count:v+1,story_id:b("LitestandStream").getStoryID()},d=function(b){y(a,b)},e=function(b){x(["streamload_error.tail.transport"]),y(a,b)},f=function(a){a.error?x(["streamload_error.tail.final"]):(x(["streamload.tail.success"]),v++)};!r?b("Bootloader").loadModules(["UIPagelet"],function(a){r=a.loadFromEndpoint("LitestandTailLoadPagelet",b("getOrCreateDOMID")(j),c,{append:!0,automatic:!0,constHeight:!0,crossPage:!0,errorHandler:d,finallyHandler:f,transportErrorHandler:e,usePipe:!0}),b("Arbiter").inform(b("LitestandMessages").STORIES_REQUESTED)},"NewsFeedTailLoadController"):(r.setErrorHandler(d).setTransportErrorHandler(e).go(c),b("Arbiter").inform(b("LitestandMessages").STORIES_REQUESTED))};function C(){o&&o.disconnect(),o=null,w&&w.release(),w=null,p&&p.tailLoadCancelled(),p&&p.destroy(),p=null,l={},r=null,v=0,A()}function D(){t&&b("CSS").addClass(t,"async_saving"),B(k),p&&p.tailLoadStarted(),b("MainThreadPerformanceMonitor").start(b("MainThreadPerformanceLoggerActions").TAIL_LOAD)}function E(event){D(),event.preventDefault()}function F(a){var b=!1;a.forEach(function(a){if(a.target===t){a=a.isIntersecting||a.intersectionRatio>0;a&&(b=!0,D(),o&&t&&o.unobserve(t))}});return b}var G=function(a){return new(b("IntersectionObserver"))(function(a){F(a)},{rootMargin:"0px 0px "+a+"px 0px"})};function H(a,c){var d=g;a=b("getElementPosition")(a);var e=b("getViewportDimensions")();a=Math.max(a.y-d-e.height,0);return new(b("IntersectionObserver"))(function(a){F(a)&&(o&&o.disconnect(),o=G(c.bufferPixels))},{rootMargin:"0px 0px "+a+"px 0px"})}a={init:function(a,c,d,e,f,g){j=d,k=a,t=c,s=e,w=new(b("SubscriptionsHandler"))(),b("ListestandStreamTailStoryPlaceholderVisbilityTracker").setPlaceholderElement(t),f.useLoadEvent?o=G(f.bufferPixels):o=H(c,f),o&&t&&o.observe(t),w.addSubscriptions(b("Arbiter").subscribe(b("LitestandMessages").STORIES_REQUESTED,z),b("Arbiter").subscribe([b("LitestandMessages").STORIES_INSERTED,b("LitestandMessages").STREAM_LOAD_ERROR],A),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,C),b("Event").listen(t,"click",E),b("Run").onLeave(C),b("Run").onUnload(function(){return p&&p.tailLoadCancelled()})),g!=null&&(p=new(b("NewsFeedTailLoadPlaceholderLogger"))(g,t))},destroy:function(){C(),t&&b("CSS").hide(t)},tailloadCompleted:function(a,c){var d=b("LitestandStream").getStreamRoot();d&&b("NewsFeedDedupeStoryController").dedupe(d,b("LitestandStream").getStoriesSelector());t&&b("CSS").removeClass(t,"async_saving");k=a;o&&t&&o.observe(t);u=0;p&&p.tailLoadSuccessful(c);b("MainThreadPerformanceMonitor").stop(b("MainThreadPerformanceLoggerActions").TAIL_LOAD)},setPagerConfig:function(a){s=a},moreStoriesInserted:function(a){b("Arbiter").inform(b("LitestandMessages").STORIES_INSERTED,{substream_id:a});a=b("ge")(a);a&&(b("NewsFeedOffscreenController").attachSubstream(a),u>0&&(u=0,x(["streamload.tail.retry.success"])))},handleErrorV2:function(a){y(a)}};e.exports=a}),null);
__d("PubcontentSuggestionsUtil",["csx","cx","DOM","DOMDimensions","LitestandEllipsis","Parent","Style"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i={truncateName:function(a,c){var d=b("DOM").scry(a,".nameText")[0];if(d){c=(b("Style").getFloat(a,"lineHeight")+b("Style").getFloat(a,"marginBottom"))*c;if(isNaN(c))return;b("LitestandEllipsis").add(d,c,a);d=b("DOM").scry(a.parentNode,".socialContext")[0];d&&(c-=b("DOMDimensions").getElementDimensions(a).height,b("LitestandEllipsis").add(d,c,d))}},truncateText:function(a,c){if(a){c=b("Style").getFloat(a,"lineHeight")*c;b("LitestandEllipsis").add(a,c,a)}},truncateAllText:function(a,c){var d,e=b("DOM").scry(a,".ego_title");for(d=0;d<e.length;d++)i.truncateName(e[d],2);e=b("DOM").scry(a,".descriptionText");for(d=0;d<e.length;d++)i.truncateText(e[d],2);e=b("DOM").scry(a,".ego_like");for(d=0;d<e.length;d++)i.cutLikeButtonText(e[d],c)},cutButtonText:function(a){var c=b("Parent").bySelector(a,"._5ry0");if(c&&b("DOMDimensions").getElementDimensions(a).width>b("DOMDimensions").getElementDimensions(c).width){c=b("DOM").scry(a,"input")[0];c.value=""}},cutLikeButtonText:function(a,c){__p&&__p();c=c?b("Parent").byClass(a,"ego_unit"):b("Parent").byClass(a,"likeButton");if(c&&b("DOMDimensions").getElementDimensions(a).width>b("DOMDimensions").getElementDimensions(c).width){c=b("DOM").scry(a,"img");if(c.length){var d=c[0].nextSibling.textContent;c[0].parentNode.setAttribute("aria-label",d);c[0].parentNode.removeChild(c[0].nextSibling)}else{c=b("DOM").scry(a,"i");if(c.length){d=c[0].nextSibling.textContent;c[0].parentNode.setAttribute("aria-label",d);c[0].parentNode.removeChild(c[0].nextSibling)}}}}};e.exports=i}),null);
__d("ReminderStory",["AsyncRequest","Arbiter","Bootloader","DOMQuery","Event","FlexibleScrollableArea","LayerAutoFocus","ScrollableArea","SubscriptionsHandler","getActiveElement"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d,e,f,g){"use strict";__p&&__p();this.$1=!1,this.$2=c,this.$3=a,b("Event").listen(a,"click",function(event){if(d&&b("DOMQuery").contains(d,event.target))return;c.show();e&&new(b("AsyncRequest"))("/growth/reminder/logging.php").setData({context_data:e,first_click:!this.$1}).send();this.$1=!0}.bind(this)),f&&c.subscribeOnce("show",function(){b("Bootloader").loadModules(["UIPagelet"],function(a){return a.loadFromEndpoint(f,c.getContent(),g)},"ReminderStory")}),c.disableBehavior(b("LayerAutoFocus")),c.subscribe("aftershow",function(){__p&&__p();var a=c.getRoot(),d=c.hide.bind(c);this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(b("Event").listen(window,"resize",d),b("Event").listen(window,"scroll",d));var e=b("DOMQuery").scry(a,".inlineReplyTextArea");e[0]&&e[0].focus();var f=b("DOMQuery").scry(a,".jewelItemNew"),g=[];f.forEach(function(a){a=f[a].getAttribute("id");a&&a.endsWith("_1_req")&&(g=g.concat(a.replace("_1_req","")))});g.length>0&&new(b("AsyncRequest"))("/friends/requests/log_impressions").setData({ids:g.join(","),ref:"reminder_box"}).send();var h=b("ScrollableArea").getInstance(b("DOMQuery").scry(c.getRoot(),".uiScrollableArea")[0]),i=b("FlexibleScrollableArea").getInstance(b("DOMQuery").scry(c.getRoot(),".flexibleScrollableArea")[0]),j=function(){i&&i.poke(),h&&(h.poke(),b("Event").fire(b("DOMQuery").scry(c.getRoot(),".scrollable")[0],"scroll"))};j();b("Arbiter").subscribe("reflow",function(){var c=b("DOMQuery").scry(a,".fbRemindersBirthdayList");if(e&&c)for(var d=0;d<e.length;++d)e[d]==b("getActiveElement")()&&b("DOMQuery").contains(c[0],e[d])&&j()})}.bind(this)),c.subscribe("beforehide",function(){this.$4&&(this.$4.release(),this.$4=null)}.bind(this))}a.prototype.getDialog=function(){"use strict";return this.$2};a.prototype.getRoot=function(){"use strict";return this.$3};e.exports=a}),null);